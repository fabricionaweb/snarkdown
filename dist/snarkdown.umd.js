!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.snarkdown=n()}(this,function(){var e={"":["<em>","</em>"],_:["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function n(e){return e.replace(RegExp("^"+(e.match(/^(\t| )+/)||"")[0],"gm"),"")}function r(e){return(e+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return function t(o,c){var a,l,s,u,p,g=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:\!\[([^\]]*?)\]\(([^\)]+?)\))|(\[)|(\](?:\(([^\)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(\-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,i=[],f="",m=c||{},d=0;function h(n){var r=e[n.replace(/\*/g,"_")[1]||""],t=i[i.length-1]==n;return r?r[1]?(i[t?"pop":"push"](n),r[0|t]):r[0]:n}function $(){for(var e="";i.length;)e+=h(i[i.length-1]);return e}for(o=o.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(e,n,r){return m[n.toLowerCase()]=r,""}).replace(/^\n+|\n+$/g,"");s=g.exec(o);)l=o.substring(d,s.index),d=g.lastIndex,a=s[0],l.match(/[^\\](\\\\)*\\$/)||(s[3]||s[4]?a='<pre class="code '+(s[4]?"poetry":s[2].toLowerCase())+'">'+n(r(s[3]||s[4]).replace(/^\n+|\n+$/g,""))+"</pre>":s[6]?((p=s[6]).match(/\./)&&(s[5]=s[5].replace(/^\d+/gm,"")),u=t(n(s[5].replace(/^\s*[>*+.-]/gm,""))),">"===p?p="blockquote":(p=p.match(/\./)?"ol":"ul",u=u.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),a="<"+p+">"+u+"</"+p+">"):s[8]?a='<img src="'+r(s[8])+'" alt="'+r(s[7])+'">':s[10]?(f=f.replace("<a>",'<a href="'+r(s[11]||m[l.toLowerCase()])+'">'),a=$()+"</a>"):s[9]?a="<a>":s[12]||s[14]?a="<"+(p="h"+(s[14]?s[14].length:"="===s[13][0]?1:2))+">"+t(s[12]||s[15],m)+"</"+p+">":s[16]?a="<code>"+r(s[16])+"</code>":(s[17]||s[1])&&(a=h(s[17]||"--"))),f+=l,f+=a;return(f+o.substring(d)+$()).trim()}});
//# sourceMappingURL=snarkdown.umd.js.map
